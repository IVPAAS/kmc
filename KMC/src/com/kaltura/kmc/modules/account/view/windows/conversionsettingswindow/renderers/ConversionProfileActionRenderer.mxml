<?xml version="1.0" encoding="utf-8"?>
<renderers:ConversionProfileRendererBase  
	xmlns:mx="http://www.adobe.com/2006/mxml" verticalAlign="middle"
	verticalScrollPolicy="off" horizontalScrollPolicy="off"  paddingLeft="4" xmlns:renderers="com.kaltura.kmc.modules.account.view.windows.conversionsettingswindow.renderers.*">
	<mx:Script>
		<![CDATA[
			import com.kaltura.kmc.modules.account.events.ConversionSettingsAccountEvent;
			import com.kaltura.kmc.modules.account.vo.ConversionProfileVO;
			import com.kaltura.vo.KalturaConversionProfile;
			
			[Bindable]
			private var _isDefault:Boolean;
			private var _profile:ConversionProfileVO;
			
			override public function set data(value:Object):void {
				super.data = value;
				_profile = value as ConversionProfileVO;
				if (_profile.profile.isDefault)
					_isDefault = true;
				else 
					_isDefault = false;
			}
			
			private function setAsDefault():void {
				var setDefault:ConversionSettingsAccountEvent = new ConversionSettingsAccountEvent(ConversionSettingsAccountEvent.SET_AS_DEFAULT_CONVERSION_PROFILE);
				setDefault.data = _profile.profile.id;
				setDefault.dispatch();
			}
		]]>
	</mx:Script>
	<mx:LinkButton visible="{!_isDefault}" label="{resourceManager.getString('account','setAsDefaultBtn')}" styleName="setDefaultLinkButton" click="{setAsDefault()}" />
</renderers:ConversionProfileRendererBase>
