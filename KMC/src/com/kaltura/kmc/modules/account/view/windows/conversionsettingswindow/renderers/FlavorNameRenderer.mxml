<?xml version="1.0" encoding="utf-8"?>
<mx:HBox xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="100%" verticalAlign="middle"
		 verticalScrollPolicy="off" horizontalScrollPolicy="off" paddingLeft="4">
	<mx:Script>
		<![CDATA[
			import com.kaltura.kmc.modules.account.view.windows.conversionsettingswindow.ConversionSettingsTable;
			import com.kaltura.kmc.modules.account.view.windows.conversionsettingswindow.popupwindows.ConversionFlavorSettingsPopUp;
			import com.kaltura.kmc.modules.account.vo.FlavorVO;
			
			import mx.core.Application;
			import mx.managers.PopUpManager;

			[Bindable]
			private var _isSelected:Boolean = false;		
			[Bindable]
			private var _flavor:FlavorVO;
			override public function set data(value:Object):void {
				_flavor = value as FlavorVO;
				_isSelected = (this.parent.parent as ConversionSettingsTable).isGivenFlavorSelected(_flavor);
			}
			
			private function onFlavorNameClick():void {
				var editFlavorPopup:ConversionFlavorSettingsPopUp = new ConversionFlavorSettingsPopUp();
				editFlavorPopup.profileName = (this.parent.parent as ConversionSettingsTable).cProfile.profile.name;
				editFlavorPopup.flavorVO = _flavor;
				PopUpManager.addPopUp(editFlavorPopup, (Application.application as DisplayObject), true);
				PopUpManager.centerPopUp(editFlavorPopup);
			}
		]]>
	</mx:Script>
	<mx:Label text="{_flavor.kFlavor.name}" toolTip="{_flavor.kFlavor.name}" visible="{!_isSelected}" includeInLayout="{!_isSelected}"/>
	<mx:LinkButton paddingLeft="0" label="{_flavor.kFlavor.name}" toolTip="{_flavor.kFlavor.name}" visible="{_isSelected}" includeInLayout="{_isSelected}"
				   click="{onFlavorNameClick()}"/>
</mx:HBox>
