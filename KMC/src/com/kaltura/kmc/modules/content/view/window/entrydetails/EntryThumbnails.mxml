<?xml version="1.0" encoding="utf-8"?>
<!---
Thumbnails tab of EntryDetailsWin
-->
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="100%" >
	<mx:Script>
		<![CDATA[
			import com.kaltura.kmc.modules.content.events.DistributionProfileEvent;
			import com.kaltura.kmc.modules.content.events.ThumbnailAssetEvent;
			import com.kaltura.kmc.modules.content.model.EntryDetailsModel;
			import com.kaltura.vo.KalturaBaseEntry;
			
			import mx.collections.ArrayCollection;
			
			[Bindable]
			private var _selectedEntry:KalturaBaseEntry;	
			private var _entryDetailsModel:EntryDetailsModel;
			[Bindable]
			private var _dimensionsArray:ArrayCollection;

			public function get entryDetailsModel():EntryDetailsModel
			{
				return _entryDetailsModel;
			}

			public function set entryDetailsModel(value:EntryDetailsModel):void
			{
				_entryDetailsModel = value;
				if (!_entryDetailsModel)
					return;
				_dimensionsArray = _entryDetailsModel.distributionProfileInfo.thumbnailDimensionsArrayCol;
				//should be sent only once
				if (_entryDetailsModel.listDistributionProfilesRequired) {
					var listDistributionProfilesEvent:DistributionProfileEvent = new DistributionProfileEvent(DistributionProfileEvent.LIST);
					listDistributionProfilesEvent.dispatch();
					_entryDetailsModel.listDistributionProfilesRequired = false;
				}
			}

			public function get selectedEntry():KalturaBaseEntry
			{
				return _selectedEntry;
			}

			public function set selectedEntry(value:KalturaBaseEntry):void
			{
				if (!value)
					return;
				_selectedEntry = value;
				//TODO: unify to a multirequest??
				//var listThumbsEvent:ThumbnailAssetEvent = new ThumbnailAssetEvent(ThumbnailAssetEvent.LIST);
				//listThumbsEvent.dispatch();
				
				
			}


			protected function uploadClickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
			}


			protected function grabFromVideoclickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
			}

			protected function cropClickHandler(event:MouseEvent):void
			{
				// TODO Auto-generated method stub
			}

		]]>
	</mx:Script>
	<mx:HBox>
		<mx:Label text="{resourceManager.getString('cms','addThumbnail')}"/>
		<mx:LinkButton label="{resourceManager.getString('cms','upload')}" click="uploadClickHandler(event)"/>
		<mx:LinkButton label="{resourceManager.getString('cms','grabFromVideo')}" click="grabFromVideoclickHandler(event)"/>
		<mx:LinkButton label="{resourceManager.getString('cms','cropNewThumbnail')}" click="cropClickHandler(event)"/>
	</mx:HBox>
	
	<mx:DataGrid width="100%" height="100%" dataProvider="{_dimensionsArray}" sortableColumns="false" draggableColumns="false" 
				selectable="false">
		<mx:columns>
			<mx:DataGridColumn headerText="{resourceManager.getString('cms','thumbnailCol')}"/>
			<mx:DataGridColumn headerText="{resourceManager.getString('cms','dimensionsCol')}" itemRenderer="com.kaltura.kmc.modules.content.view.window.entrydetails.renderers.ThumbAssetDimensionsRenderer"/>
			<mx:DataGridColumn headerText="{resourceManager.getString('cms','distributionPartnersCol')}" itemRenderer="com.kaltura.kmc.modules.content.view.window.entrydetails.renderers.ThumbAssetDistributionProfilesRenderer" />
			<mx:DataGridColumn headerText="{resourceManager.getString('cms','actionCol')}" itemRenderer="com.kaltura.kmc.modules.content.view.window.entrydetails.renderers.ThumbAssetActionRenderer"/>
		</mx:columns>
	</mx:DataGrid>
	
</mx:VBox>
